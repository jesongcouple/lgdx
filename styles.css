/* LG ThinQ LifeOS Prototype v9 - stable + premium UI */
:root{
  --bg:#07080c;
  --surface: rgba(255,255,255,0.06);
  --surface2: rgba(255,255,255,0.08);
  --stroke: rgba(255,255,255,0.10);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.64);
  --muted2: rgba(255,255,255,0.52);
  --brand:#a50034;
  --hot1:#e11d48;
  --hot2:#ff5aa5;
  --radius:22px;
}

*{box-sizing:border-box}
html,body{height:100%}

/* v10 layout: keep everything same width (app-like), not full-bleed desktop stretch */
body{ display:flex; justify-content:center; }
.app{
  width: min(460px, 100%);
  margin: 0 auto;
  min-height: 100vh;
  border-left: 1px solid rgba(255,255,255,0.06);
  border-right: 1px solid rgba(255,255,255,0.06);
  background: transparent;
}
/* make top/bottom bars match the app width */
.topbar, .bottom-nav{ width: 100%; }
@media (min-width: 520px){
  .app{
    border-radius: 30px;
    overflow:hidden;
    box-shadow: 0 30px 90px rgba(0,0,0,.55);
  }
}
/* AR demo image fit */
.ar-canvas img{ width:100%; height:100%; object-fit: cover; display:block; }
/* subtle pulsing markers (simulate AR) */
@keyframes pulse {
  0%{ transform: translateZ(0) scale(1); opacity:.85; }
  70%{ transform: translateZ(0) scale(1.12); opacity:.30; }
  100%{ transform: translateZ(0) scale(1.22); opacity:0; }
}
/* add overlay badges on AR canvas */
.ar-canvas::after{
  content:"AR 시뮬레이션(데모)";
  position:absolute;
  left:12px; top:12px;
  padding:8px 10px;
  border-radius:999px;
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.86);
  font-weight: 950;
  font-size: 12px;
  backdrop-filter: blur(10px);
}
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
  background: radial-gradient(1200px 800px at 80% 0%, rgba(165,0,52,.28), transparent 55%),
              radial-gradient(900px 700px at 10% 10%, rgba(225,29,72,.20), transparent 60%),
              radial-gradient(1200px 900px at 50% 120%, rgba(122,92,255,.18), transparent 55%),
              linear-gradient(180deg, #05060a, #0b0c12 40%, #07080c);
  color: var(--text);
  overflow:hidden;
}

.app{height:100%; display:flex; flex-direction:column;}

.topbar{
  height:64px;
  padding: 12px 14px calc(12px + env(safe-area-inset-top));
  display:flex; align-items:center; justify-content:space-between;
  background: linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,0));
  border-bottom: 1px solid rgba(255,255,255,0.06);
  backdrop-filter: blur(14px);
}
.home-label{
  font-weight: 900;
  letter-spacing: -.4px;
  font-size: 16px;
  padding: 10px 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.08);
  max-width: 220px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.topbar-right{display:flex; gap:10px;}
.icon-btn{
  width:40px; height:40px; border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.90);
  display:grid; place-items:center;
}
.icon-btn svg{width:20px; height:20px; fill: currentColor; opacity:.92;}

.content{
  flex:1;
  overflow:auto;
  padding: 12px 14px calc(90px + env(safe-area-inset-bottom));
  scroll-behavior:smooth;
}
.content::-webkit-scrollbar{width:0}

.screen{display:none; animation:fade .18s ease-out;}
.screen.active{display:block;}
@keyframes fade{from{opacity:.0; transform:translateY(4px)}to{opacity:1; transform:translateY(0)}}

.section-head{margin: 10px 2px 14px;}
.section-head.tight{margin: 6px 2px 12px;}
.h2{
  margin:0;
  font-size: 20px;
  letter-spacing: -.5px;
  font-weight: 950;
}
.sub{
  margin-top:6px;
  font-size: 12px;
  color: var(--muted);
  line-height:1.35;
}

.divider{height:1px; background: rgba(255,255,255,0.08); margin: 14px 2px;}

.grid{display:grid; gap: 12px;}
.cards-2{grid-template-columns: 1fr 1fr;}
@media (max-width: 420px){ .cards-2{grid-template-columns:1fr;} }

.card{
  border-radius: var(--radius);
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.06);
  padding: 14px;
  box-shadow: 0 18px 50px rgba(0,0,0,.28);
}
.card.feature{
  text-align:left;
  cursor:pointer;
  position:relative;
  overflow:hidden;
}
.card.feature::before{
  content:"";
  position:absolute; inset:-2px;
  background: radial-gradient(360px 220px at 80% 20%, rgba(225,29,72,.22), transparent 60%),
              radial-gradient(260px 200px at 10% 90%, rgba(34,211,238,.10), transparent 60%);
  opacity:.9;
  pointer-events:none;
}
.card.feature > *{position:relative;}

.glass{
  backdrop-filter: blur(16px);
}

.card-top{display:flex; justify-content:space-between; align-items:center; gap:10px;}
.badge{
  font-size: 11px;
  font-weight: 900;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(0,0,0,.22);
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.86);
  white-space:nowrap;
}
.badge.accent{
  background: rgba(165,0,52,.22);
  border-color: rgba(225,29,72,.22);
}
.card-icon{font-size: 18px;}

.card-title{
  margin-top: 10px;
  font-size: 15px;
  font-weight: 950;
  letter-spacing: -.4px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.card-desc{
  margin-top: 6px;
  font-size: 12px;
  color: rgba(255,255,255,0.68);
  line-height:1.35;
  display:-webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow:hidden;
}

.row{display:flex; align-items:center; gap:10px; flex-wrap:wrap;}
.row.end{justify-content:flex-end;}
.k{font-weight: 950; color: rgba(255,255,255,0.86);}
.mini{font-size: 12px; color: var(--muted); line-height:1.35; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width: 100%;}
.mini.muted{color: var(--muted2); white-space:normal;}
.hidden{display:none;}

.btn{
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.92);
  padding: 10px 12px;
  border-radius: 16px;
  font-weight: 900;
  font-size: 13px;
  letter-spacing: -.2px;
  display:inline-flex; align-items:center; gap:8px;
}
.btn svg{width:18px; height:18px; fill: currentColor; opacity:.92;}
.btn.primary{
  background: linear-gradient(90deg, rgba(225,29,72,1), rgba(255,90,165,1));
  border-color: rgba(255,255,255,0.18);
  box-shadow: 0 16px 40px rgba(225,29,72,.22);
}
.btn.ghost{background: transparent;}
.btn.small{padding: 9px 10px; border-radius: 14px; font-size: 12px;}
.btn.block{width:100%; justify-content:center;}

.press{transition: transform .14s ease, box-shadow .14s ease, background .14s ease;}
.press:active{transform: scale(.986) translateY(1px);}
.press:hover{box-shadow: 0 18px 55px rgba(0,0,0,.35);}

.bottom-nav{
  height: 74px;
  padding-bottom: env(safe-area-inset-bottom);
  display:flex;
  background: rgba(0,0,0,.62);
  border-top: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(18px);
}
.nav-item{
  flex:1;
  border:0;
  background: transparent;
  color: rgba(255,255,255,0.72);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;
  font-weight: 900;
  font-size: 11px;
}
.nav-item .ni-ic{font-size: 16px;}
.nav-item.active{
  color: rgba(255,255,255,0.96);
}
.nav-item.active .ni-ic{
  filter: drop-shadow(0 10px 22px rgba(225,29,72,.25));
}

.dot{display:inline-block; width:8px; height:8px; border-radius:999px; margin-right:8px;}
.dot.live{background: rgba(34,211,238,1); box-shadow: 0 0 0 6px rgba(34,211,238,.10);}

.info{margin-top: 12px;}
.info-row{display:flex; justify-content:space-between; gap:10px; align-items:center;}
.info-k{font-weight: 950;}
.info-v{font-weight: 900; color: rgba(255,255,255,0.86);}
.info-mini{margin-top: 8px; font-size: 12px; color: rgba(255,255,255,0.62); line-height:1.35;}

.mood-preview{margin-top: 12px; display:grid; grid-template-columns: 1.15fr .85fr; gap: 12px;}
@media (max-width: 420px){ .mood-preview{grid-template-columns:1fr;} }
.preview-img{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,.22);
  min-height: 220px;
  overflow:hidden;
  position:relative;
}
.placeholder{position:absolute; inset:0; display:grid; place-items:center; color: rgba(255,255,255,0.52); font-weight: 900; font-size: 12px; padding: 10px; text-align:center;}
.preview-img img{width:100%; height:100%; object-fit:cover; display:block;}
.preview-meta{display:flex; flex-direction:column; gap:10px;}
.chip{align-self:flex-start; font-weight: 900; font-size: 11px; padding: 6px 10px; border-radius: 999px; background: rgba(0,0,0,.22); border: 1px solid rgba(255,255,255,0.10);}
.color-swatch{height: 54px; border-radius: 18px; border: 1px solid rgba(255,255,255,0.12); background: rgba(255,255,255,0.06);}

.mood-sync{margin-top: 12px; display:grid; grid-template-columns: 1fr 1fr; gap: 12px;}
@media (max-width: 420px){ .mood-sync{grid-template-columns:1fr;} }
.sync-card{padding: 12px; border-radius: 18px; border: 1px solid rgba(255,255,255,0.10); background: rgba(255,255,255,0.06);}
.sync-title{font-weight: 950; margin-bottom: 10px;}
.sync-bar{height: 14px; border-radius: 999px; background: rgba(255,255,255,0.14); overflow:hidden; border:1px solid rgba(255,255,255,0.10);}
.sync-fill{height:100%; width: 30%; background: linear-gradient(90deg, rgba(225,29,72,1), rgba(255,90,165,1)); transform-origin:left; transform: scaleX(0); transition: transform .55s ease;}
.sync-fill.on{transform: scaleX(1);}

.magazine-hero{position:relative;}
.mag-cover{
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,0.12);
  background: radial-gradient(560px 420px at 80% 0%, rgba(225,29,72,.28), transparent 55%),
              radial-gradient(500px 380px at 10% 30%, rgba(34,211,238,.14), transparent 60%),
              rgba(0,0,0,.16);
  padding: 16px;
}
.mag-header{display:flex; align-items:flex-end; justify-content:space-between; gap:10px;}
.mag-tag{font-weight: 950; font-size: 11px; padding: 6px 10px; border-radius:999px; background: rgba(0,0,0,.20); border:1px solid rgba(255,255,255,0.10);}
.mag-title{font-weight: 950; letter-spacing:-.5px; font-size: 16px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.mag-grid{margin-top: 14px; display:grid; grid-template-columns: repeat(2, 1fr); gap: 12px;}
.mag-tile{
  border-radius: 18px; border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.09); /* opacity fixed: more visible */
  padding: 12px;
}
.mag-tile .t-ic{font-size: 18px;}
.mag-tile .t-k{margin-top: 8px; font-size: 11px; color: rgba(255,255,255,0.70); font-weight: 900; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.mag-tile .t-v{margin-top: 4px; font-size: 16px; font-weight: 950; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.mag-note{margin-top: 12px; font-size: 11px; color: rgba(255,255,255,0.58); line-height:1.35;}

.pet-grid{
  margin-top: 14px;
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}
@media (max-width: 420px){ .pet-grid{grid-template-columns:1fr;} }
.pet-item{
  margin:0;
  border-radius: 20px;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,.22);
}
.pet-item img{width:100%; height: 220px; object-fit: cover; display:block;}
.pet-item figcaption{
  padding: 10px 12px;
  font-weight: 900;
  font-size: 12px;
  color: rgba(255,255,255,0.78);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.card-h{display:flex; justify-content:space-between; align-items:flex-start; gap: 10px;}
.pill{
  font-weight: 950; font-size: 11px; padding: 8px 10px; border-radius:999px;
  background: rgba(0,0,0,.20); border: 1px solid rgba(255,255,255,0.10);
  white-space:nowrap;
}
.pill.strong{background: rgba(225,29,72,.18); border-color: rgba(225,29,72,.18);}
.accent{background: linear-gradient(90deg, rgba(225,29,72,1), rgba(255,90,165,1)); -webkit-background-clip:text; background-clip:text; color: transparent;}

.discovery{margin-top: 12px;}
.disco-big{font-size: 24px; font-weight: 950; letter-spacing:-.7px;}
.chiprow{margin-top: 10px; display:flex; flex-wrap:wrap; gap: 10px;}
.chip{
  font-weight: 900; font-size: 12px; padding: 10px 12px;
  border-radius: 999px; background: rgba(0,0,0,.22); border: 1px solid rgba(255,255,255,0.10);
  white-space:nowrap;
}

.mission-stack{margin-top: 12px; display:flex; flex-direction:column; gap: 12px;}
.mission{
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  padding: 14px;
}
.mission-top{display:flex; justify-content:space-between; gap:10px; align-items:flex-start;}
.mission-name{font-weight: 950; letter-spacing:-.4px; font-size: 14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width: 74%;}
.mission-tag{font-weight: 950; font-size: 11px; padding: 7px 10px; border-radius: 999px; background: rgba(0,0,0,.22); border: 1px solid rgba(255,255,255,0.10); white-space:nowrap;}
.mission-desc{margin-top: 8px; font-size: 12px; color: rgba(255,255,255,0.68); line-height:1.35;}
.mission-bar{margin-top: 12px; height: 12px; border-radius:999px; background: rgba(255,255,255,0.14); overflow:hidden; border:1px solid rgba(255,255,255,0.10);}
.mission-fill{height:100%; width:0%; background: linear-gradient(90deg, rgba(225,29,72,1), rgba(255,90,165,1)); transition: width .55s ease;}
.mission-actions{margin-top: 12px; display:flex; justify-content:space-between; gap: 10px; align-items:center;}
.mission-actions .mini{max-width: 55%;}

.title-row{margin-top: 12px; display:flex; flex-direction:column; gap: 12px;}
.title-card{
  border-radius: 22px;
  border: 1px solid rgba(255,210,92,0.22);
  background: linear-gradient(180deg, rgba(255,210,92,0.18), rgba(0,0,0,0.18));
  padding: 14px;
  display:flex; gap: 12px; align-items:center;
}
.title-card .t-ic{width:44px; height:44px; border-radius: 18px; display:grid; place-items:center; background: rgba(255,210,92,0.45); color:#111; font-weight: 900;}
.t-name{font-weight: 950; font-size: 15px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.t-sub{margin-top: 4px; font-size: 12px; color: rgba(255,255,255,0.70); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.stamp-row{display:flex; flex-wrap:wrap; gap:10px;}
.stamp{font-weight: 950; font-size: 12px; padding: 10px 12px; border-radius: 999px; background: rgba(0,0,0,.22); border: 1px solid rgba(255,255,255,0.10);}

.report-bars{margin-top: 12px; display:flex; flex-direction:column; gap: 12px;}
.rbar{display:grid; grid-template-columns: 60px 1fr 40px; gap: 12px; align-items:center;}
.rname{font-weight: 950; white-space:nowrap;}
.rtrack{height: 14px; border-radius: 999px; background: rgba(255,255,255,0.14); border:1px solid rgba(255,255,255,0.10); overflow:hidden;}
.rfill{height:100%; width: calc(var(--w) * 100%); background: linear-gradient(90deg, rgba(225,29,72,1), rgba(255,90,165,1)); box-shadow: 0 18px 45px rgba(225,29,72,.18);}
.rval{font-weight: 950; text-align:right;}

.store-grid{display:grid; grid-template-columns: 1fr 1fr; gap: 12px;}
@media (max-width: 420px){ .store-grid{grid-template-columns:1fr;} }
.store-item{
  text-align:left;
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.07);
  padding: 14px;
}
.si-ic{font-size: 18px;}
.si-name{margin-top: 10px; font-weight: 950; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.si-meta{margin-top: 6px; font-size: 12px; color: rgba(255,255,255,0.68); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}

.unlock-preview{margin-top: 12px; border-radius: 22px; border: 1px solid rgba(255,255,255,0.10); background: rgba(0,0,0,.18); overflow:hidden;}
.unlock-hero{padding: 16px; background: radial-gradient(520px 320px at 80% 0%, rgba(225,29,72,.28), transparent 60%), rgba(0,0,0,.12);}
.u-title{font-weight: 950; font-size: 18px; letter-spacing:-.4px;}
.u-sub{margin-top: 6px; font-size: 12px; color: rgba(255,255,255,0.70); line-height:1.35;}
.unlock-cards{display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 14px;}
@media (max-width: 420px){ .unlock-cards{grid-template-columns:1fr 1fr;} }
.u-card{border-radius: 18px; border: 1px solid rgba(255,255,255,0.10); background: rgba(255,255,255,0.07); padding: 12px;}
.u-k{font-weight: 900; font-size: 12px; color: rgba(255,255,255,0.70); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.u-v{margin-top: 6px; font-weight: 950; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}

.ar-demo{margin-top: 12px; display:grid; grid-template-columns: 1.15fr .85fr; gap: 12px;}
@media (max-width: 420px){ .ar-demo{grid-template-columns:1fr;} }
.ar-canvas{border-radius: 22px; border: 1px solid rgba(255,255,255,0.10); background: rgba(0,0,0,.22); min-height: 240px; overflow:hidden; position:relative;}
.ar-canvas img{width:100%; height:100%; object-fit:cover; display:block;}
.ar-side{display:flex; flex-direction:column; gap: 10px;}
.ar-chip{align-self:flex-start; font-weight: 950; font-size: 11px; padding: 6px 10px; border-radius: 999px; background: rgba(0,0,0,.22); border:1px solid rgba(255,255,255,0.10);}
.ar-list{border-radius: 20px; border:1px solid rgba(255,255,255,0.10); background: rgba(255,255,255,0.06); padding: 12px; display:flex; flex-direction:column; gap: 10px;}
.ar-row{display:flex; justify-content:space-between; gap: 10px; font-weight: 900; font-size: 12px;}
.ar-row span{color: rgba(255,255,255,0.72); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.ar-row b{white-space:nowrap;}

/* Toast */
.toast{
  position: fixed;
  left: 50%;
  bottom: calc(90px + env(safe-area-inset-bottom));
  transform: translateX(-50%);
  padding: 12px 14px;
  border-radius: 999px;
  background: rgba(0,0,0,.62);
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.92);
  font-weight: 900;
  font-size: 12px;
  opacity: 0;
  pointer-events:none;
  transition: opacity .2s ease, transform .2s ease;
}
.toast.show{opacity:1; transform: translateX(-50%) translateY(-4px);}

/* Wrapped Overlay */
.wrapped{ position:fixed; inset:0; z-index: 120; display:none; }
.wrapped[aria-hidden="false"]{ display:block; }
.wrapped-dim{ position:absolute; inset:0; background: rgba(0,0,0,.60); backdrop-filter: blur(10px); }
.wrapped-panel{
  position:absolute;
  left: 50%;
  top: calc(14px + env(safe-area-inset-top));
  transform: translateX(-50%);
  width: min(480px, calc(100% - 18px));
  height: calc(100% - 28px - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  border-radius: 28px;
  background: rgba(10,10,12,.72);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 18px 60px rgba(0,0,0,.55);
  overflow:hidden;
  backdrop-filter: blur(16px);
  animation: wrappedPop .22s ease-out;
}
@keyframes wrappedPop{ from{ transform: translateX(-50%) scale(.985); opacity:0 } to{ transform: translateX(-50%) scale(1); opacity:1 } }
.wrapped-top{
  display:flex; align-items:center; justify-content:space-between;
  padding: 12px 12px 10px;
  background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,0));
  position:relative; z-index:5;
}
.wrapped .progress{ display:flex; gap:6px; width: 70%; }
.wrapped .pbar{ flex:1; height:4px; border-radius:999px; background: rgba(255,255,255,.16); overflow:hidden; position:relative; }
.wrapped .pbar::after{ content:""; position:absolute; inset:0; background: linear-gradient(90deg, rgba(225,29,72,1), rgba(255,90,165,1)); transform: scaleX(0); transform-origin:left; transition: transform .25s ease; }
.wrapped .pbar.done::after{ transform: scaleX(1); }
.wrapped .w-actions{ display:flex; gap:8px; }

.wrapped .slides{
  position:absolute; inset:0;
  padding-top: 56px;
  display:flex;
  transition: transform .35s cubic-bezier(.2,.9,.2,1);
  will-change: transform;
}
.wrapped .slide{ position:relative; min-width:100%; height:100%; overflow:hidden; }
.wrapped .slide-bg{ position:absolute; inset:-2px; filter:saturate(1.08); transform: translateZ(0); }
.wrapped .bg1{ background: radial-gradient(900px 520px at 70% 0%, rgba(225,29,72,.55), transparent 55%), radial-gradient(700px 520px at 10% 20%, rgba(165,0,52,.50), transparent 60%), radial-gradient(900px 620px at 50% 120%, rgba(122,92,255,.20), transparent 60%), linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.22)); }
.wrapped .bg2{ background: radial-gradient(900px 520px at 80% 10%, rgba(255,90,165,.45), transparent 60%), radial-gradient(700px 520px at 15% 20%, rgba(34,211,238,.18), transparent 60%), radial-gradient(900px 620px at 50% 120%, rgba(165,0,52,.20), transparent 60%), linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.25)); }
.wrapped .bg3{ background: radial-gradient(900px 520px at 80% 10%, rgba(255,210,92,.32), transparent 60%), radial-gradient(700px 520px at 15% 20%, rgba(225,29,72,.20), transparent 60%), radial-gradient(900px 620px at 50% 120%, rgba(122,92,255,.18), transparent 60%), linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.25)); }
.wrapped .bg4{ background: radial-gradient(900px 520px at 75% 0%, rgba(225,29,72,.42), transparent 60%), radial-gradient(700px 520px at 10% 30%, rgba(255,255,255,.08), transparent 60%), radial-gradient(900px 620px at 50% 120%, rgba(34,211,238,.14), transparent 60%), linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.25)); }

.wrapped .slide-inner{ position:relative; padding: 28px 20px 20px; height: calc(100% - 56px); display:flex; flex-direction:column; gap:10px; }
.wrapped .w-brand{ display:flex; align-items:center; gap:10px; font-weight: 900; color: rgba(255,255,255,.86); font-size: 12px; }
.brand-dot{ width:10px; height:10px; border-radius:999px; background: linear-gradient(90deg, rgba(225,29,72,1), rgba(255,90,165,1)); box-shadow: 0 0 0 6px rgba(225,29,72,.12);}
.wrapped .w-title{ margin-top: 6px; font-size: 34px; line-height:1.05; letter-spacing:-.8px; font-weight: 950; text-shadow: 0 18px 40px rgba(0,0,0,.35); }
.wrapped .w-sub{ font-size: 14px; color: rgba(255,255,255,.75); line-height: 1.35; }
.wrapped .pillrow{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 8px; }
.wrapped .pill{ font-weight: 900; font-size: 12px; padding: 10px 12px; border-radius: 999px; background: rgba(0,0,0,.22); border: 1px solid rgba(255,255,255,0.10); white-space:nowrap; }
.wrapped .hint{ margin-top:auto; font-size:12px; color: rgba(255,255,255,.55); }

.wrapped .mega-bars{ margin-top: 8px; display:flex; flex-direction:column; gap:12px; }
.wrapped .mbar{ display:grid; grid-template-columns: 60px 1fr 40px; gap: 12px; align-items:center; }
.wrapped .mname{ font-weight: 950; color: rgba(255,255,255,.88); }
.wrapped .mtrack{ height:14px; border-radius:999px; background: rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.10); overflow:hidden; }
.wrapped .mfill{ height:100%; width: calc(var(--w) * 100%); background: linear-gradient(90deg, rgba(225,29,72,1), rgba(255,90,165,1)); transform: scaleX(0.45); transform-origin:left; animation: wGrow 1.0s ease forwards; box-shadow: 0 18px 45px rgba(225,29,72,.18); }
@keyframes wGrow{ to{ transform: scaleX(1);} }

.wrapped .tilegrid{ margin-top: 10px; display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
.wrapped .wtile{ background: rgba(0,0,0,.18); border: 1px solid rgba(255,255,255,.10); border-radius: 18px; padding: 12px; }
.wrapped .t-ic{ font-size: 18px; }
.wrapped .t-k{ margin-top: 8px; font-size: 11px; color: rgba(255,255,255,.65); font-weight: 900; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.wrapped .t-v{ margin-top: 4px; font-size: 14px; font-weight: 950; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.wrapped .title-card{ margin-top: 12px; padding: 16px 14px; border-radius: 22px; background: linear-gradient(180deg, rgba(255,210,92,.24), rgba(0,0,0,.20)); border: 1px solid rgba(255,210,92,.20); display:flex; align-items:center; gap:12px; box-shadow: 0 24px 60px rgba(0,0,0,.35); }
.wrapped .tc-ic{ width:46px; height:46px; border-radius: 18px; display:grid; place-items:center; background: linear-gradient(180deg, rgba(255,210,92,.75), rgba(255,210,92,.12)); color:#111; border:1px solid rgba(255,210,92,.22); }
.wrapped .tc-name{ font-size: 18px; font-weight: 950; letter-spacing:-.5px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.wrapped .tc-sub{ margin-top: 3px; font-size: 12px; color: rgba(255,255,255,.70); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.wrapped .tc-tag{ margin-left:auto; font-size:11px; font-weight:950; padding: 8px 10px; border-radius:999px; background: rgba(255,210,92,.20); border:1px solid rgba(255,210,92,.22); color: rgba(255,255,255,.92); white-space:nowrap; }
.wrapped .stamps{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px; }
.wrapped .stamp{ font-size:12px; font-weight:950; padding: 10px 12px; border-radius:999px; background: rgba(0,0,0,.22); border:1px solid rgba(255,255,255,.10); white-space:nowrap; }

.wrapped .confetti{ position:absolute; inset:0; pointer-events:none; background-image: radial-gradient(circle, rgba(255,210,92,.7) 0 2px, transparent 3px), radial-gradient(circle, rgba(225,29,72,.7) 0 2px, transparent 3px), radial-gradient(circle, rgba(34,211,238,.6) 0 2px, transparent 3px); background-size: 42px 42px, 58px 58px, 70px 70px; background-position: 0 0, 15px 25px, 35px 10px; opacity: 0; animation: wConf .9s ease-out forwards; }
@keyframes wConf{ 0%{opacity:0; transform: translateY(10px)} 30%{opacity:.9} 100%{opacity:0; transform: translateY(-30px)} }

.wrapped .shopline{ display:flex; flex-wrap:wrap; gap:10px; margin-top: 8px; }
.wrapped .shop-pill{ font-weight:950; font-size:12px; padding: 10px 12px; border-radius:999px; background: rgba(0,0,0,.22); border:1px solid rgba(255,255,255,.10); white-space:nowrap; }
.wrapped .fine{ margin-top:auto; font-size: 11px; color: rgba(255,255,255,.55); line-height:1.35 }

.wrapped .wrapped-nav{ position:absolute; inset:auto 12px 12px 12px; display:flex; justify-content:space-between; pointer-events:none; }
.wrapped .navbtn{ pointer-events:auto; width: 44px; height: 44px; border-radius: 16px; background: rgba(255,255,255,.07); border: 1px solid rgba(255,255,255,.10); color: rgba(255,255,255,.88); font-size: 22px; box-shadow: 0 12px 30px rgba(0,0,0,.35);}

/* Share Modal */
.modal{ position:fixed; inset:0; z-index:130; display:none; }
.modal[aria-hidden="false"]{ display:block; }
.modal-dim{ position:absolute; inset:0; background: rgba(0,0,0,.62); backdrop-filter: blur(12px);}
.modal-panel{ position:absolute; left:50%; top: calc(14px + env(safe-area-inset-top)); transform: translateX(-50%); width: min(540px, calc(100% - 18px)); height: calc(100% - 28px - env(safe-area-inset-top) - env(safe-area-inset-bottom)); border-radius: 28px; background: rgba(10,10,12,.74); border: 1px solid rgba(255,255,255,.12); box-shadow: 0 18px 60px rgba(0,0,0,.55); overflow:hidden; backdrop-filter: blur(16px);}
.modal-top{ display:flex; align-items:center; justify-content:space-between; padding: 12px 12px 10px; border-bottom: 1px solid rgba(255,255,255,0.08);}
.modal-title{ font-weight: 950; }
.modal-body{ padding: 12px; display:flex; flex-direction:column; gap: 12px; height: calc(100% - 52px);}
#shareCanvas{ width:100%; height:auto; border-radius: 20px; border:1px solid rgba(255,255,255,0.10); background: rgba(0,0,0,.22);}

/* Optional reference CSS (lower priority) */
/* ThinQ-inspired UI — minimal, glass, LG red accent */
:root{
  --bg: #0b0c10;
  --surface: rgba(255,255,255,.08);
  --surface2: rgba(255,255,255,.12);
  --surface3: rgba(255,255,255,.16);
  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.64);
  --muted2: rgba(255,255,255,.48);
  --line: rgba(255,255,255,.10);
  --shadow: 0 18px 45px rgba(0,0,0,.55);
  --shadow2: 0 10px 25px rgba(0,0,0,.35);

  --red: #b3193b;
  --red2: #e11d48;
  --good: #3ddc97;
  --warn: #fbbf24;
  --cyan: #22d3ee;

  --r1: 14px;
  --r2: 18px;
  --r3: 22px;

  --safe-b: env(safe-area-inset-bottom, 0px);
  --safe-t: env(safe-area-inset-top, 0px);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:
    radial-gradient(1200px 800px at 30% 10%, rgba(225,29,72,.22), transparent 55%),
    radial-gradient(900px 700px at 70% 15%, rgba(177,25,59,.14), transparent 60%),
    radial-gradient(1200px 900px at 50% 100%, rgba(34,211,238,.10), transparent 55%),
    linear-gradient(180deg, #05060a, #0b0c10 45%, #05060a);
  color: var(--text);
  display:flex;
  justify-content:center;
  align-items:center;
}
.app-shell{
  width:min(430px, 100vw);
  height:min(932px, 100vh);
  border-radius: 28px;
  overflow:hidden;
  box-shadow: var(--shadow);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.08);
  position:relative;
}
/* Topbar */
.topbar{
  height: 62px;
  padding: calc(10px + var(--safe-t)) 14px 10px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  background: rgba(0,0,0,.22);
  border-bottom:1px solid var(--line);
}
.topbar-left{display:flex; align-items:center; gap:10px}
.topbar-right{display:flex; align-items:center; gap:6px}
.icon-btn{
  width: 38px;
  height: 38px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.icon-btn:hover{background: rgba(255,255,255,.10)}
.icon-btn:active{transform: scale(.96)}
.icon-btn svg{width:20px; height:20px; fill: rgba(255,255,255,.9)}
.brand{display:flex; align-items:center; gap:10px}
.brand-dot{
  width: 12px; height:12px;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,.35) 35%, transparent 60%),
              linear-gradient(180deg, var(--red2), var(--red));
  box-shadow: 0 0 0 6px rgba(225,29,72,.14);
}
.brand-title{font-weight:800; letter-spacing:.2px}
.brand-sub{font-size:12px; color: var(--muted)}
/* Main screen */
.screen{
  height: calc(100% - 62px - 74px);
  overflow:auto;
  padding: 14px 14px calc(20px + var(--safe-b)) 14px;
  scroll-behavior:smooth;
}
.screen::-webkit-scrollbar{width:10px}
.screen::-webkit-scrollbar-thumb{background: rgba(255,255,255,.12); border-radius:10px}
.screen::-webkit-scrollbar-track{background: transparent}
/* Bottom tabbar */
.tabbar{
  position:absolute; left:0; right:0; bottom:0;
  height: 74px;
  padding: 10px 10px calc(10px + var(--safe-b)) 10px;
  display:flex;
  gap: 6px;
  background: rgba(0,0,0,.26);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border-top:1px solid var(--line);
}
.tab{
  flex:1;
  border:1px solid transparent;
  background: transparent;
  color: var(--muted);
  border-radius: 16px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;
  cursor:pointer;
  transition: background .12s ease, transform .12s ease, color .12s ease, border-color .12s ease;
}
.tab:hover{background: rgba(255,255,255,.06)}
.tab:active{transform: scale(.98)}
.tab.active{
  background: rgba(255,255,255,.08);
  border-color: rgba(255,255,255,.10);
  color: rgba(255,255,255,.92);
}
.tab-ico svg{width:20px; height:20px; fill: currentColor}
.tab-label{font-size: 11px; line-height:1}
/* Common */
.hstack{display:flex; align-items:center; justify-content:space-between; gap:12px}
.vstack{display:flex; flex-direction:column; gap:10px}
.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.10);
  color: var(--muted);
  font-size: 12px;
}
.pill .dot{width:7px; height:7px; border-radius:999px; background: var(--good)}
.pill.warn .dot{background: var(--warn)}
.pill.red .dot{background: var(--red2)}
.pill.cyan .dot{background: var(--cyan)}
.section-title{
  font-weight:800;
  font-size: 16px;
  letter-spacing: .2px;
}
.subtle{color: var(--muted); font-size: 13px; line-height: 1.35}
.card{
  border-radius: 22px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: var(--shadow2);
  overflow:hidden;
}
.card.pad{padding: 14px}
.card + .card{margin-top:12px}
.hero{
  position:relative;
  border-radius: 22px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  box-shadow: var(--shadow2);
}
.hero .hero-bg{
  height: 190px;
  background:
    radial-gradient(900px 220px at 15% 60%, rgba(255,255,255,.08), transparent 60%),
    radial-gradient(900px 220px at 85% 30%, rgba(255,255,255,.06), transparent 55%),
    linear-gradient(120deg, rgba(255,160,90,.55), rgba(225,29,72,.38), rgba(177,25,59,.12)),
    linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.05));
}
.hero .hero-glass{
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.28), rgba(0,0,0,.02) 65%, rgba(0,0,0,.40));
}
.hero .hero-content{
  position:absolute; left:14px; right:14px; bottom:14px;
  display:flex; flex-direction:column; gap:10px;
}
.hero .title{
  font-size: 18px;
  font-weight:800;
  letter-spacing:.2px;
}
.hero .meta{display:flex; gap:8px; flex-wrap:wrap}
.btn-row{display:flex; gap:10px; flex-wrap:wrap}
.btn{
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  padding: 11px 12px;
  border-radius: 14px;
  font-weight:700;
  cursor:pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
  display:inline-flex;
  align-items:center;
  gap:8px;
}
.btn:hover{background: rgba(255,255,255,.10)}
.btn:active{transform: scale(.98)}
.btn svg{width:18px; height:18px; fill: currentColor}
.btn.primary{
  background: linear-gradient(180deg, rgba(225,29,72,.95), rgba(177,25,59,.92));
  border-color: rgba(255,255,255,.14);
  box-shadow: 0 10px 24px rgba(225,29,72,.18);
}
.btn.ghost{background: transparent; border-color: rgba(255,255,255,.12)}
.btn.small{padding: 8px 10px; font-size: 12px; border-radius: 12px}
.btn.block{width:100%; justify-content:center}
.grid2{display:grid; grid-template-columns: 1fr 1fr; gap:10px}
.tile{
  padding: 12px;
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  cursor:pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
  min-height: 92px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}
.tile:hover{background: rgba(255,255,255,.10)}
.tile:active{transform: scale(.99)}
.tile .t-top{display:flex; align-items:center; justify-content:space-between; gap:10px}
.tile .t-ico{
  width: 36px; height:36px;
  border-radius: 12px;
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.10);
  display:grid; place-items:center;
}
.tile .t-ico svg{width:18px; height:18px; fill: rgba(255,255,255,.92)}
.tile .t-title{font-weight:800; font-size: 13px}
.tile .t-sub{font-size: 12px; color: var(--muted); line-height:1.25}
.badge{
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.10);
  color: rgba(255,255,255,.88);
}
.badge.red{background: rgba(225,29,72,.16); border-color: rgba(225,29,72,.28)}
.badge.good{background: rgba(61,220,151,.14); border-color: rgba(61,220,151,.26)}
.badge.warn{background: rgba(251,191,36,.14); border-color: rgba(251,191,36,.26)}
.badge.cyan{background: rgba(34,211,238,.14); border-color: rgba(34,211,238,.26)}
.progress{
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.10);
  overflow:hidden;
}
.progress > i{
  display:block;
  height:100%;
  width: 50%;
  background: linear-gradient(90deg, rgba(225,29,72,.9), rgba(34,211,238,.80));
}
.list{display:flex; flex-direction:column; gap:10px}
.item{
  padding: 12px;
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  display:flex;
  gap:12px;
  align-items:flex-start;
}
.item .ico{
  width: 40px; height:40px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.08);
  display:grid; place-items:center;
  flex: 0 0 auto;
}
.item .ico svg{width:18px; height:18px; fill: rgba(255,255,255,.92)}
.item .body{flex:1}
.item .title{font-weight:800; font-size: 13px}
.item .desc{color: var(--muted); font-size: 12px; margin-top: 4px; line-height:1.3}
.item .right{display:flex; flex-direction:column; align-items:flex-end; gap:6px}
.chev{width: 18px; height:18px; fill: rgba(255,255,255,.85); opacity:.8}
.hr{height:1px; background: var(--line); margin: 10px 0}
/* Horizontal carousel */
.hscroll{
  display:flex;
  gap:10px;
  overflow:auto;
  padding-bottom: 6px;
  scroll-snap-type: x mandatory;
}
.hscroll::-webkit-scrollbar{height:8px}
.hscroll::-webkit-scrollbar-thumb{background: rgba(255,255,255,.10); border-radius:8px}
.hscroll::-webkit-scrollbar-track{background: transparent}
.hcard{
  min-width: 220px;
  scroll-snap-align: start;
  border-radius: 22px;
  padding: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  box-shadow: var(--shadow2);
}
.hcard .h-title{font-weight:800}
.hcard .h-sub{font-size:12px; color: var(--muted); margin-top:4px; line-height:1.25}
.hcard .h-tags{margin-top:10px; display:flex; gap:6px; flex-wrap:wrap}
/* Magazine */
.mag{
  border-radius: 22px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  overflow:hidden;
}
.mag .cover{
  height: 160px;
  background:
    radial-gradient(650px 220px at 15% 35%, rgba(255,255,255,.10), transparent 60%),
    linear-gradient(135deg, rgba(255,188,120,.55), rgba(225,29,72,.30), rgba(34,211,238,.12)),
    linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.05));
  position:relative;
}
.mag .cover:after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.50));
}
.mag .cover .txt{
  position:absolute; left:12px; right:12px; bottom:12px;
  z-index:1;
}
.mag .cover .kicker{font-size:12px; color: rgba(255,255,255,.78)}
.mag .cover .title{font-size:18px; font-weight:900; margin-top:4px}
.mag .page{padding: 12px}
.mag .stats{display:grid; grid-template-columns: 1fr 1fr; gap:10px}
.stat{
  padding: 12px;
  border-radius: 16px;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
}
.stat .label{color: var(--muted2); font-size:12px}
.stat .value{font-weight:900; font-size:18px; margin-top:4px}
.stat .hint{color: var(--muted); font-size:11px; margin-top:3px}
/* Pet moments */
.moments{display:grid; grid-template-columns: 1fr 1fr 1fr; gap:8px}
.moment{
  border-radius: 16px;
  height: 78px;
  background:
    radial-gradient(60px 60px at 30% 25%, rgba(255,255,255,.10), transparent 60%),
    linear-gradient(135deg, rgba(34,211,238,.16), rgba(225,29,72,.12)),
    rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  position:relative;
  overflow:hidden;
  cursor:pointer;
}
.moment .tag{
  position:absolute; left:8px; bottom:8px;
  font-size:11px;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.12);
  color: rgba(255,255,255,.92);
}
.moment .spark{
  position:absolute; right:8px; top:8px;
  width: 26px; height:26px;
  border-radius: 12px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.22);
  display:grid; place-items:center;
}
.moment .spark svg{width:14px; height:14px; fill: rgba(255,255,255,.9)}
/* Donut */
.donut-wrap{display:flex; gap:12px; align-items:center}
.donut{
  width: 64px; height:64px;
  border-radius: 999px;
  background: conic-gradient(var(--red2) 0 52%, rgba(255,255,255,.12) 52% 100%);
  border:1px solid rgba(255,255,255,.12);
  position:relative;
  box-shadow: var(--shadow2);
}
.donut:after{
  content:"";
  position:absolute; inset:10px;
  background: rgba(15,15,20,.92);
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
}
.donut-label{display:flex; flex-direction:column; gap:4px}
.donut-label .big{font-weight:900}
.donut-label .small{font-size:12px; color: var(--muted)}
/* Toggle */
.toggle{
  width: 46px; height: 28px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.10);
  position:relative;
  cursor:pointer;
  transition: background .15s ease, border-color .15s ease;
}
.toggle:before{
  content:"";
  position:absolute; top:3px; left:3px;
  width: 22px; height:22px;
  border-radius: 999px;
  background: rgba(255,255,255,.88);
  transition: transform .18s ease;
}
.toggle.on{background: rgba(225,29,72,.25); border-color: rgba(225,29,72,.30)}
.toggle.on:before{transform: translateX(18px); background: rgba(255,255,255,.95)}
.row{display:flex; align-items:center; justify-content:space-between; gap:12px; padding: 10px 0}
.row + .row{border-top:1px solid rgba(255,255,255,.08)}
.row .l .t{font-weight:800; font-size:13px}
.row .l .s{font-size:12px; color: var(--muted); margin-top:4px; line-height:1.25}
/* Toast & sheet */
.toast{
  position:absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 88px;
  padding: 10px 12px;
  border-radius: 999px;
  background: rgba(0,0,0,.70);
  border: 1px solid rgba(255,255,255,.14);
  color: rgba(255,255,255,.92);
  font-size: 12px;
  box-shadow: var(--shadow2);
  opacity:0;
  pointer-events:none;
  transition: opacity .18s ease, transform .18s ease;
}
.toast.show{opacity:1; transform: translateX(-50%) translateY(-2px)}
.sheet-backdrop{
  position:absolute; inset:0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
}
.sheet{
  position:absolute;
  left:0; right:0; bottom:-560px;
  padding: 10px 12px calc(14px + var(--safe-b)) 12px;
  background: rgba(18,18,22,.94);
  border-top:1px solid rgba(255,255,255,.12);
  border-radius: 22px 22px 0 0;
  box-shadow: var(--shadow);
  transition: transform .22s ease;
  transform: translateY(0);
}
.sheet.open{transform: translateY(-560px)}
.sheet-handle{width: 48px; height:5px; border-radius: 999px; background: rgba(255,255,255,.18); margin: 0 auto 10px auto}
.sheet-header{display:flex; align-items:center; justify-content:space-between; gap:10px}
.sheet-title{font-weight:900}
.sheet-body{margin-top:10px}
.sheet-actions{margin-top:12px; display:flex; gap:10px; flex-wrap:wrap}

/* share preview */
.sharePreview{
  height: 220px;
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}
.sharePreview .ph{font-size:12px; color:rgba(255,255,255,.55)}
.sharePreview img{width:100%; height:100%; object-fit:cover; display:block}

input[type="file"]{display:none}
@media (max-width: 460px){
  .app-shell{border-radius: 0; height: 100vh; width: 100vw;}
}
/* v11 height + visibility fixes */
html,body{
  height:100%;
}
.app{
  min-height:100vh !important;
  display:flex;
  flex-direction:column;
}
.screen{
  min-height:calc(100vh - 140px); /* header+bottom nav space */
}

/* force readable text */
body, .app, .screen, .card, .section, .tile{
  color:#ffffff !important;
}

/* fix dark text inside cards */
.card *, .section *{
  color:#ffffff !important;
}

/* ensure scroll area full */
.content{
  flex:1;
  padding-bottom:120px;
}

/* v18: top icons (ThinQ-like line icons) */
.topbar .icon-btn svg{ width:22px; height:22px; fill:none; stroke:rgba(255,255,255,0.92); stroke-width:1.8; stroke-linecap:round; stroke-linejoin:round; }

/* v18: ONLY home dashboard cards alignment */
.screen[data-screen="home"] .grid.cards-2.home-dashboard{ align-items: stretch; }
.screen[data-screen="home"] .grid.cards-2.home-dashboard .card.feature{
  height: 132px;
  display:flex;
  flex-direction:column;
  justify-content:center;
}
.screen[data-screen="home"] .grid.cards-2.home-dashboard .badge{ white-space:nowrap; }
.screen[data-screen="home"] .grid.cards-2.home-dashboard .card-title{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* v18: magazine add-ons (use existing theme) */
.magazine-hero .mag-cover{ position:relative; }
.subcard{ margin-top: 14px; }
.subhead{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px; }
.anniv-row{ display:flex; gap:10px; overflow:auto; padding-bottom:6px; }
.anniv{
  min-width: 120px;
  height: 44px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.95);
  font-weight: 900;
}
.chips{ display:flex; gap:8px; flex-wrap:wrap; }
.chip{
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.20);
  color: rgba(255,255,255,0.9);
  font-weight: 800;
  font-size: 12px;
}
.timeline{ display:flex; flex-direction:column; gap:10px; }
.tl{ display:flex; gap:10px; align-items:flex-start; }
.tl .dot{
  width:10px; height:10px; border-radius:50%;
  background: #ff3d7f;
  box-shadow: 0 0 0 6px rgba(255,61,127,0.12);
  margin-top: 6px;
}
.tlt{ display:flex; flex-direction:column; gap:4px; }
.tlt b{ font-weight: 950; }
.tlt span{ opacity: .86; font-size: 12px; }

.pet-mini{ display:flex; gap:12px; overflow:auto; padding-bottom:4px; }
.pet-card{
  width: 150px;
  border-radius: 18px;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.20);
}
.pet-card img{ width:100%; height: 160px; object-fit: cover; display:block; }
.pet-cap{ padding: 10px 12px; font-weight: 900; }

/* v19: Home dashboard vertical alignment (no other boxes touched) */
[data-screen="home"] .grid.cards-2{
  align-items: stretch;
}
[data-screen="home"] .card.feature{
  height: 136px; /* consistent tile height */
  padding: 18px 18px 16px;
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* aligns title baseline */
}
[data-screen="home"] .card.feature .card-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}
[data-screen="home"] .card.feature .badge{
  height: 28px;
  display:inline-flex;
  align-items:center;
}
[data-screen="home"] .card.feature .card-icon{
  width: 34px;
  height: 34px;
  display:grid;
  place-items:center;
}
[data-screen="home"] .card.feature .card-title{
  margin-top: 10px;
  line-height: 1.1;
}

/* v21: wrapped final time-saved line */
.wrapped-final{
  margin-top: 14px;
  font-size: 20px;
  font-weight: 950;
  letter-spacing: -0.4px;
}
.wrapped-final #savedHours{
  color: rgba(255,61,127,1);
  text-shadow: 0 10px 24px rgba(255,61,127,0.25);
}

/* v22: Wrapped final uses time saved */
.time-saved{
  color: rgba(255,61,127,1);
  text-shadow: 0 10px 24px rgba(255,61,127,0.25);
}
